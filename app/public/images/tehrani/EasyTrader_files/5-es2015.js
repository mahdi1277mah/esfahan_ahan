(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{JHLQ:function(e,t,o){"use strict";o.r(t),o.d(t,"DTradingViewModule",function(){return b});var i=o("ofXK"),r=o("mrSG"),s=o("2Vo4"),n=o("XNiG"),a=o("ljdZ"),l=o("Zptb"),c=o("tyNb"),d=o("vkgz"),h=o("MtjB"),p=o("3E0/"),u=o("IzEk"),_=o("SxV6"),m=o("+kxC"),f=o("nqAl"),g=o("ST3Z"),y=o("fXoL");let v=(()=>{class e{constructor(e,t,o,i,r,a,c,d){this.accountService=e,this._location=t,this.router=o,this.tradingViewService=i,this.popupOrderService=r,this.stockService=a,this.scriptLoaderService=c,this.layoutService=d,this.tabularOrder=g.a.TABULAR_ORDER,this._symbol=localStorage.getItem(l.E)||"\u062e\u0633\u0627\u067e\u0627",this.adjustmentType=localStorage[l.C]?localStorage.getItem(l.C):"1",this.stateSub=new s.a(null),this.state$=this.stateSub.asObservable(),this.confirmSub=new n.a,this.confirm$=this.confirmSub.asObservable(),this._interval="D",this._datafeedUrl="https://chartdatafeed.emofid.com/api/datafeed",this._libraryPath="/assets/charting_library/",this._chartsStorageUrl="https://saveload.tradingview.com",this._chartsStorageApiVersion="1.1",this._clientId="easytrader",this._userId=this.accountService.userAccountInfo.mfdOnlineUserName||Object(l.tc)(),this._fullscreen=!1,this._autosize=!0,this._containerId="tv_chart_container",this._tvWidget=null,this.stocks=[],this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1}}get baseLayoutType(){return this.layoutService.layoutModel.baseLayout}get easyStateKey(){return this.accountService.userAccountInfo.mfdOnlineUserName+"_"+l.D}set symbol(e){this._symbol=e||this._symbol}get symbol(){return"0"==this.adjustmentType?this._symbol:this._symbol+":"+this.adjustmentType}set interval(e){this._interval=e||this._interval}set datafeedUrl(e){this._datafeedUrl=e||this._datafeedUrl}set libraryPath(e){this._libraryPath=e||this._libraryPath}set chartsStorageUrl(e){this._chartsStorageUrl=e||this._chartsStorageUrl}set chartsStorageApiVersion(e){this._chartsStorageApiVersion=e||this._chartsStorageApiVersion}set clientId(e){this._clientId=e||this._clientId}set userId(e){this._userId=e||this._userId}set fullscreen(e){this._fullscreen=e||this._fullscreen}set autosize(e){this._autosize=e||this._autosize}set containerId(e){this._containerId=e||this._containerId}ngOnInit(){this.routeSub=this.router.events.subscribe(e=>{e instanceof c.c&&(this.saveState(),null!==this._tvWidget&&(this._tvWidget.remove(),this._tvWidget=null))}),this.stockService.stocks$.pipe(Object(d.a)(e=>this.stocks=e)).subscribe(),this.tradingViewService.getState().pipe(Object(h.a)(e=>e.pipe(Object(p.a)(2e3),Object(u.a)(3)))).subscribe(e=>{e&&(this.state=this.refactorState(JSON.parse(e.state)),this.stateSub.next(this.state))}),this.scriptLoaderService.tvScriptsLoaded$.pipe(Object(_.a)(e=>e),Object(d.a)(e=>{e&&this.configChart()})).subscribe()}refactorState(e){try{let t=e.charts[0].panes[0].sources,o=t.findIndex(e=>"MainSeries"==e.type);return o>-1&&(t[o].state.symbol=this.symbol,t[o].state.shortName=this.symbol),e}catch(t){return e}}configChart(){function e(e){return(e>9?"":"0")+e}let t=[31,28,31,30,31,30,31,31,30,31,30,31],o=[31,31,31,31,31,31,30,30,30,30,30,29];const i={symbol:this.symbol,datafeed:new window.Datafeeds.UDFCompatibleDatafeed(this._datafeedUrl),interval:this._interval,container_id:this._containerId,library_path:this._libraryPath,locale:function(){const e=new RegExp("[\\?&]lang=([^&#]*)").exec(location.search);return null===e?null:decodeURIComponent(e[1].replace(/\+/g," "))}()||"fa",disabled_features:["use_localstorage_for_settings"],enabled_features:["show_dialog_on_snapshot_ready","keep_left_toolbar_visible_on_small_screens"],charts_storage_url:this._chartsStorageUrl,charts_storage_api_version:this._chartsStorageApiVersion,client_id:this._clientId,user_id:this._userId,fullscreen:this._fullscreen,autosize:this._autosize,timezone:"Asia/Tehran",customFormatters:{timeFormatter:{format:function(t){var o=new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return"%h:%m".replace("%h",e(o.getHours())).replace("%m",e(o.getMinutes())).replace("%s",e(o.getSeconds()))},formatLocal:e=>e.toString()},dateFormatter:{format:function(e){return function(e,i,r){for(var s,n,a,l=e,c=i,d=r,h=l-1600,p=c-1,u=d-1,_=365*h+Math.floor((h+3)/4)-Math.floor((h+99)/100)+Math.floor((h+399)/400),m=0;m<p;++m)_+=t[m];for(p>1&&(h%4==0&&h%100!=0||h%400==0)&&++_,s=(_+=u)-79,n=Math.floor(s/12053),s%=12053,a=979+33*n+4*Math.floor(s/1461),(s%=1461)>=366&&(a+=Math.floor((s-1)/365),s=(s-1)%365),m=0;m<11&&s>=o[m];++m)s-=o[m];var f=m+1,g=s+1;return["\u06cc\u06a9 \u0634\u0646\u0628\u0647","\u062f\u0648 \u0634\u0646\u0628\u0647","\u0633\u0647 \u0634\u0646\u0628\u0647","\u0686\u0647\u0627\u0631 \u0634\u0646\u0628\u0647","\u067e\u0646\u062c \u0634\u0646\u0628\u0647","\u062c\u0645\u0639\u0647","\u0634\u0646\u0628\u0647"][new Date(l,c-1,d).getDay()]+"  "+a+"/"+f+"/"+g}(e.getFullYear(),e.getMonth()+1,e.getDate())},formatLocal:e=>e.toString()}},time_frames:[{text:"25y",resolution:"W",description:"All",title:"\u0647\u0645\u0647"},{text:"1Y",resolution:"D"},{text:"6M",resolution:"D"},{text:"1M",resolution:"D"},{text:"7D",resolution:"60"},{text:"1D",resolution:"15"}]},r=new a.widget(i);this._tvWidget=r,r.onChartReady(()=>{var e=r.activeChart(),t=this.popupOrderService,o=this.stocks;this._tvWidget.applyOverrides(this.widgetOptionsOverrides());var i=$("#tv_chart_container iframe").contents();r.createButton().addClass("adjustmentType").on("change",function(e){var t=$("#adjustmentType",i).val(),o=r.symbolInterval(),s=o.symbol.indexOf(":"),n=o.symbol;s>-1&&(n=o.symbol.substring(0,s)),r.setSymbol(n+":"+t,o.interval,null),localStorage.setItem(l.E,n),localStorage.setItem(l.C,t.toString())}).append("<select id='adjustmentType'><option value='0'>\u0628\u062f\u0648\u0646 \u062a\u0639\u062f\u06cc\u0644</option><option value='1'>\u062a\u0639\u062f\u06cc\u0644 \u0634\u062f\u0647</option></select>");var s=localStorage[l.C]?localStorage.getItem(l.C):"1";setTimeout(function(){$("#adjustmentType",i).val(s)},0),e.onSymbolChanged().subscribe(null,()=>{var t=$("#adjustmentType",i).val(),o=e.symbolExt().symbol,r=o.indexOf(":");r>-1&&(o=o.substring(0,r)),e.setSymbol(o+=":"+t,()=>{}),localStorage.setItem(l.E,o),localStorage.setItem(l.C,t.toString())}),r.createButton().addClass("hide-marks-holder").on("click",function(e){r.chart().executeActionById("hideAllMarks"),$(this).find(".hide-marks").html($(this).find(".hide-marks > label").is(".eye-open")?'<label class="eye-close">\u0631\u0648\u06cc\u062f\u0627\u062f\u0647\u0627<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill-rule="nonzero" d="M17.537 7.635l-.789.789c-.886-.275-1.812-.424-2.748-.424-3.841 0-7.521 2.503-8.962 6 .562 1.364 1.465 2.577 2.585 3.549l-.709.709c-1.265-1.112-2.274-2.506-2.881-4.077l-.07-.18.07-.18c1.535-3.975 5.645-6.82 9.966-6.82 1.213 0 2.409.224 3.537.635zm3.549 2.108c1.265 1.112 2.274 2.506 2.881 4.077l.07.18-.07.18c-1.535 3.975-5.646 6.82-9.966 6.82-1.213 0-2.409-.224-3.537-.635l.789-.789c.886.275 1.812.424 2.748.424 3.84 0 7.521-2.503 8.962-6-.562-1.364-1.465-2.577-2.585-3.549l.709-.709zm-6.049.392l-4.902 4.902c-.088-.33-.135-.677-.135-1.036 0-2.213 1.788-4.001 4.001-4.001.358 0 .705.047 1.036.135zm2.828 2.829c.088.331.135.679.135 1.038 0 2.213-1.786 3.999-3.999 3.999-.359 0-.707-.047-1.038-.135l4.901-4.901zm-12.365 10.243l-.707-.707 17.707-17.707.707.707-17.707 17.707z"></path></svg></label>':'<label class="eye-open">\u0631\u0648\u06cc\u062f\u0627\u062f\u0647\u0627<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g><path fill-rule="nonzero" d="M4.034 14.18l-.07-.18.07-.18c1.535-3.975 5.645-6.82 9.966-6.82 4.32 0 8.431 2.845 9.966 6.82l.07.18-.07.18c-1.535 3.975-5.646 6.82-9.966 6.82-4.321 0-8.431-2.845-9.966-6.82zm9.966 5.82c3.84 0 7.521-2.503 8.962-6-1.441-3.497-5.122-6-8.962-6-3.841 0-7.521 2.503-8.962 6 1.441 3.497 5.121 6 8.962 6z"></path><path d="M11 14.001c0 1.66 1.341 2.999 3.001 2.999s2.999-1.339 2.999-2.999c0-1.66-1.339-3.001-2.999-3.001-1.66 0-3.001 1.341-3.001 3.001z"></path></g></svg></label>')}).append($('<div class="hide-marks"><label class="eye-open">\u0631\u0648\u06cc\u062f\u0627\u062f\u0647\u0627<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g><path fill-rule="nonzero" d="M4.034 14.18l-.07-.18.07-.18c1.535-3.975 5.645-6.82 9.966-6.82 4.32 0 8.431 2.845 9.966 6.82l.07.18-.07.18c-1.535 3.975-5.646 6.82-9.966 6.82-4.321 0-8.431-2.845-9.966-6.82zm9.966 5.82c3.84 0 7.521-2.503 8.962-6-1.441-3.497-5.122-6-8.962-6-3.841 0-7.521 2.503-8.962 6 1.441 3.497 5.121 6 8.962 6z"></path><path d="M11 14.001c0 1.66 1.341 2.999 3.001 2.999s2.999-1.339 2.999-2.999c0-1.66-1.339-3.001-2.999-3.001-1.66 0-3.001 1.341-3.001 3.001z"></path></g></svg></label></div>  ')),r.createButton().addClass("make-order").on("click",function(){var i=e.symbolExt().symbol,r=i.indexOf(":"),s=i;r>-1&&(s=i.substring(0,r));var n=o.find(e=>e.symbol==s).isin;t.openPopup({isin:n,name:s})}).append($('<div ><button style=" color: #fff;background-color: #007bff;border: 1px solid #007bff;font-size: .9rem;border-radius: .2rem;">\u062e\u0631\u06cc\u062f / \u0641\u0631\u0648\u0634</button></div>  ')),this.loadState()})}loadState(){this.state$.subscribe(e=>{e&&(this._tvWidget.load(this.state),this._tvWidget.applyOverrides(this.widgetOptionsOverrides()))})}saveState(){this._tvWidget.save(e=>{this.tradingViewService.setState({state:JSON.stringify(e)}).pipe(Object(h.a)(e=>e.pipe(Object(p.a)(2e3),Object(u.a)(3)))).subscribe()})}widgetOptionsOverrides(){var e=localStorage.getItem("settings"),t=JSON.parse(e);return t&&1!=t.lightTheme?{"paneProperties.background":"#2e3139","paneProperties.vertGridProperties.color":"#454545","paneProperties.horzGridProperties.color":"#454545","symbolWatermarkProperties.transparency":90,"scalesProperties.textColor":"#AAA","mainSeriesProperties.candleStyle.upColor":"#6ba583","mainSeriesProperties.candleStyle.downColor":"#d75442","mainSeriesProperties.candleStyle.drawWick":"true","mainSeriesProperties.candleStyle.drawBorder":"true","mainSeriesProperties.candleStyle.borderColor":"#378658","mainSeriesProperties.candleStyle.borderUpColor":"#225437","mainSeriesProperties.candleStyle.borderDownColor":"#5b1a13","mainSeriesProperties.candleStyle.wickUpColor":"rgba( 115, 115, 117, 1)","mainSeriesProperties.candleStyle.wickDownColor":"rgba( 115, 115, 117, 1)"}:{"paneProperties.background":"#ffffff","paneProperties.vertGridProperties.color":"#E6E6E6","paneProperties.horzGridProperties.color":"#E6E6E6","symbolWatermarkProperties.transparency":90,"scalesProperties.textColor":"#AAA","mainSeriesProperties.candleStyle.upColor":"#26a69a","mainSeriesProperties.candleStyle.downColor":"#ef5350","mainSeriesProperties.candleStyle.drawWick":"true","mainSeriesProperties.candleStyle.drawBorder":"true","mainSeriesProperties.candleStyle.borderColor":"#378658","mainSeriesProperties.candleStyle.borderUpColor":"#26a69a","mainSeriesProperties.candleStyle.borderDownColor":"#ef5350","mainSeriesProperties.candleStyle.wickUpColor":"#26a69a","mainSeriesProperties.candleStyle.wickDownColor":"#ef5350"}}convertToPx(e){return Math.floor(e)+"px"}ngOnDestroy(){return Object(r.a)(this,void 0,void 0,function*(){this.routeSub.unsubscribe()})}loadScript(e){console.log("preparing to load...");let t=document.createElement("script");t.src=e,t.type="text/javascript",t.async=!0,t.charset="utf-8",document.getElementsByTagName("head")[0].appendChild(t)}canDeactivate(){return this.confirm$}back(){this._location.back()}}return e.\u0275fac=function(t){return new(t||e)(y["\u0275\u0275directiveInject"](l.c),y["\u0275\u0275directiveInject"](i.Location),y["\u0275\u0275directiveInject"](c.d),y["\u0275\u0275directiveInject"](l.Vb),y["\u0275\u0275directiveInject"](m.a),y["\u0275\u0275directiveInject"](l.Qb),y["\u0275\u0275directiveInject"](l.B),y["\u0275\u0275directiveInject"](f.a))},e.\u0275cmp=y["\u0275\u0275defineComponent"]({type:e,selectors:[["app-d-trading-view"]],inputs:{symbol:"symbol",interval:"interval",datafeedUrl:"datafeedUrl",libraryPath:"libraryPath",chartsStorageUrl:"chartsStorageUrl",chartsStorageApiVersion:"chartsStorageApiVersion",clientId:"clientId",userId:"userId",fullscreen:"fullscreen",autosize:"autosize",containerId:"containerId"},decls:1,vars:0,consts:[["id","tv_chart_container",1,"app-tv-chart-container","h-100","overflow-hidden","rounded"]],template:function(e,t){1&e&&y["\u0275\u0275element"](0,"div",0)},styles:[""]}),e})(),b=(()=>{class e{}return e.\u0275mod=y["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=y["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.CommonModule,c.h.forChild([{path:"",component:v}])]]}),e})()},ljdZ:function(e,t,o){!function(e){"use strict";function t(e,o){var r=i({},e);for(var s in o)"object"!=typeof e[s]||null===e[s]||Array.isArray(e[s])?void 0!==o[s]&&(r[s]=o[s]):r[s]=t(e[s],o[s]);return r}function o(){return"1.13 (internal id 99e91cf5 @ 2018-11-16 10:57:41.519597)"}var i=Object.assign||function(e){for(var t,o=arguments,i=1,r=arguments.length;i<r;i++)for(var s in t=o[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},r={mobile:{disabled_features:["left_toolbar","header_widget","timeframes_toolbar","edit_buttons_in_legend","context_menus","control_bar","border_around_the_chart"],enabled_features:[]}},s={width:800,height:500,symbol:"AA",interval:"D",timezone:"Etc/UTC",container_id:"",library_path:"",locale:"en",widgetbar:{details:!1,watchlist:!1,watchlist_settings:{default_symbols:[]}},overrides:{"mainSeriesProperties.showCountdown":!1},studies_overrides:{},brokerConfig:{configFlags:{}},fullscreen:!1,autosize:!1,disabled_features:[],enabled_features:[],debug:!1,logo:{},time_frames:[{text:"5y",resolution:"W"},{text:"1y",resolution:"W"},{text:"6m",resolution:"120"},{text:"3m",resolution:"60"},{text:"1m",resolution:"30"},{text:"5d",resolution:"5"},{text:"1d",resolution:"1"}],client_id:"0",user_id:"0",charts_storage_api_version:"1.0",favorites:{intervals:[],chartTypes:[]}},n=function(){function e(e){if(this._id="tradingview_"+(1048576*(1+Math.random())|0).toString(16).substring(1),this._ready=!1,this._readyHandlers=[],this._onWindowResize=this._autoResizeChart.bind(this),!e.datafeed)throw new Error("Datafeed is not defined");if(this._options=t(s,e),e.preset){var o=r[e.preset];o?(this._options.disabled_features=void 0!==this._options.disabled_features?this._options.disabled_features.concat(o.disabled_features):o.disabled_features,this._options.enabled_features=void 0!==this._options.enabled_features?this._options.enabled_features.concat(o.enabled_features):o.enabled_features):console.warn("Unknown preset: `"+e.preset+"`")}"Dark"===this._options.theme&&void 0===this._options.loading_screen&&(this._options.loading_screen={backgroundColor:"#131722"}),this._create()}return e.prototype.onChartReady=function(e){this._ready?e.call(this):this._readyHandlers.push(e)},e.prototype.onGrayedObjectClicked=function(e){this._innerAPI().onGrayedObjectClicked(e)},e.prototype.onShortcut=function(e,t){this._innerWindow().createShortcutAction(e,t)},e.prototype.subscribe=function(e,t){this._innerAPI().subscribe(e,t)},e.prototype.unsubscribe=function(e,t){this._innerAPI().unsubscribe(e,t)},e.prototype.chart=function(e){return this._innerAPI().chart(e)},e.prototype.setLanguage=function(e){this.remove(),this._options.locale=e,this._create()},e.prototype.setSymbol=function(e,t,o){this._innerAPI().changeSymbol(e,t+"",o)},e.prototype.remove=function(){window.removeEventListener("resize",this._onWindowResize),this._readyHandlers.splice(0,this._readyHandlers.length),delete window[this._id];var e=this._getIFrameElement();e.contentWindow.destroyChart(),e.parentNode&&e.parentNode.removeChild(e)},e.prototype.closePopupsAndDialogs=function(){this._innerAPI().closePopupsAndDialogs()},e.prototype.selectLineTool=function(e){this._innerAPI().selectLineTool(e)},e.prototype.selectedLineTool=function(){return this._innerAPI().selectedLineTool()},e.prototype.save=function(e){this._innerAPI().saveChart(e)},e.prototype.load=function(e,t){this._innerAPI().loadChart({json:e,extendedData:t})},e.prototype.getSavedCharts=function(e){this._innerAPI().getSavedCharts(e)},e.prototype.loadChartFromServer=function(e){this._innerAPI().loadChartFromServer(e)},e.prototype.saveChartToServer=function(e,t,o,i){this._innerAPI().saveChartToServer(e,t,o,i)},e.prototype.removeChartFromServer=function(e,t){this._innerAPI().removeChartFromServer(e,t)},e.prototype.onContextMenu=function(e){this._innerAPI().onContextMenu(e)},e.prototype.createButton=function(e){return this._innerWindow().createButton(e)},e.prototype.showNoticeDialog=function(e){this._innerAPI().showNoticeDialog(e)},e.prototype.showConfirmDialog=function(e){this._innerAPI().showConfirmDialog(e)},e.prototype.showLoadChartDialog=function(){this._innerAPI().showLoadChartDialog()},e.prototype.showSaveAsChartDialog=function(){this._innerAPI().showSaveAsChartDialog()},e.prototype.symbolInterval=function(){return this._innerAPI().getSymbolInterval()},e.prototype.mainSeriesPriceFormatter=function(){return this._innerAPI().mainSeriesPriceFormatter()},e.prototype.getIntervals=function(){return this._innerAPI().getIntervals()},e.prototype.getStudiesList=function(){return this._innerAPI().getStudiesList()},e.prototype.addCustomCSSFile=function(e){this._innerWindow().addCustomCSSFile(e)},e.prototype.applyOverrides=function(e){this._options=t(this._options,{overrides:e}),this._innerWindow().applyOverrides(e)},e.prototype.applyStudiesOverrides=function(e){this._innerWindow().applyStudiesOverrides(e)},e.prototype.watchList=function(){return this._innerAPI().watchlist()},e.prototype.activeChart=function(){return this._innerAPI().activeChart()},e.prototype.chartsCount=function(){return this._innerAPI().chartsCount()},e.prototype.layout=function(){return this._innerAPI().layout()},e.prototype.setLayout=function(e){this._innerAPI().setLayout(e)},e.prototype.changeTheme=function(e){this._innerWindow().changeTheme(e)},e.prototype.takeScreenshot=function(){this._innerAPI().takeScreenshot()},e.prototype.lockAllDrawingTools=function(){return this._innerAPI().lockAllDrawingTools()},e.prototype._getIFrameElement=function(){var e=document.getElementById(this._id);if(null===e)throw new Error("There is no such iframe");return e},e.prototype._innerAPI=function(){return this._getIFrameElement().contentWindow.tradingViewApi},e.prototype._innerWindow=function(){return this._getIFrameElement().contentWindow},e.prototype._autoResizeChart=function(){this._options.fullscreen&&(this._getIFrameElement().style.height=window.innerHeight+"px")},e.prototype._create=function(){var e=this,t=this._render(),o=document.getElementById(this._options.container_id);if(null===o)throw new Error("There is no such element - #"+this._options.container_id);o.innerHTML=t;var i=this._getIFrameElement();(this._options.autosize||this._options.fullscreen)&&(i.style.width="100%",this._options.fullscreen||(i.style.height="100%")),window.addEventListener("resize",this._onWindowResize),this._onWindowResize();var r=function(){i.removeEventListener("load",r,!1),i.contentWindow.widgetReady(function(){e._ready=!0;for(var t=0,o=e._readyHandlers;t<o.length;t++){var r=o[t];try{r.call(e)}catch(e){console.error(e)}}i.contentWindow.initializationFinished()})};i.addEventListener("load",r,!1)},e.prototype._render=function(){var e=window;e[this._id]={datafeed:this._options.datafeed,customFormatters:this._options.customFormatters,brokerFactory:this._options.brokerFactory,overrides:this._options.overrides,studiesOverrides:this._options.studies_overrides,disabledFeatures:this._options.disabled_features,enabledFeatures:this._options.enabled_features,brokerConfig:this._options.brokerConfig,restConfig:this._options.restConfig,favorites:this._options.favorites,logo:this._options.logo,numeric_formatting:this._options.numeric_formatting,rss_news_feed:this._options.rss_news_feed,newsProvider:this._options.news_provider,loadLastChart:this._options.load_last_chart,saveLoadAdapter:this._options.save_load_adapter,loading_screen:this._options.loading_screen,settingsAdapter:this._options.settings_adapter,customIndicatorsUrl:this._options.indicators_file_name},this._options.saved_data&&(e[this._id].chartContent={json:this._options.saved_data});var t=(this._options.library_path||"")+"static/"+this._options.locale+"-tv-chart.99e91cf53749c6852251.html#symbol="+encodeURIComponent(this._options.symbol)+"&interval="+encodeURIComponent(this._options.interval)+(this._options.timeframe?"&timeframe="+encodeURIComponent(this._options.timeframe):"")+(this._options.toolbar_bg?"&toolbarbg="+this._options.toolbar_bg.replace("#",""):"")+(this._options.studies_access?"&studiesAccess="+encodeURIComponent(JSON.stringify(this._options.studies_access)):"")+"&widgetbar="+encodeURIComponent(JSON.stringify(this._options.widgetbar))+(this._options.drawings_access?"&drawingsAccess="+encodeURIComponent(JSON.stringify(this._options.drawings_access)):"")+"&timeFrames="+encodeURIComponent(JSON.stringify(this._options.time_frames))+"&locale="+encodeURIComponent(this._options.locale)+"&uid="+encodeURIComponent(this._id)+"&clientId="+encodeURIComponent(String(this._options.client_id))+"&userId="+encodeURIComponent(String(this._options.user_id))+(this._options.charts_storage_url?"&chartsStorageUrl="+encodeURIComponent(this._options.charts_storage_url):"")+(this._options.charts_storage_api_version?"&chartsStorageVer="+encodeURIComponent(this._options.charts_storage_api_version):"")+(this._options.custom_css_url?"&customCSS="+encodeURIComponent(this._options.custom_css_url):"")+(this._options.auto_save_delay?"&autoSaveDelay="+encodeURIComponent(String(this._options.auto_save_delay)):"")+"&debug="+this._options.debug+(this._options.snapshot_url?"&snapshotUrl="+encodeURIComponent(this._options.snapshot_url):"")+(this._options.timezone?"&timezone="+encodeURIComponent(this._options.timezone):"")+(this._options.study_count_limit?"&studyCountLimit="+encodeURIComponent(String(this._options.study_count_limit)):"")+(this._options.symbol_search_request_delay?"&ssreqdelay="+encodeURIComponent(String(this._options.symbol_search_request_delay)):"")+(this._options.theme?"&theme="+encodeURIComponent(String(this._options.theme)):"");return'<iframe id="'+this._id+'" name="'+this._id+'"  src="'+t+'"'+(this._options.autosize||this._options.fullscreen?"":' width="'+this._options.width+'" height="'+this._options.height+'"')+' frameborder="0" allowTransparency="true" scrolling="no" allowfullscreen style="display:block;"></iframe>'},e}();window.TradingView=window.TradingView||{},window.TradingView.version=o,e.version=o,e.onready=function(e){window.addEventListener("DOMContentLoaded",e,!1)},e.widget=n,Object.defineProperty(e,"__esModule",{value:!0})}(t)}}]);